$(document).ready(function(){$(".product_slides-list").length&&$(".product_slides-list").bxSlider({slideWidth:75,minSlides:3,maxSlides:3,slideMargin:9,pager:!1,nextText:">",prevText:"<"}),$(window).scroll(function(){var t=$(".btn-up");$(this).scrollTop()>100?t.fadeIn():t.fadeOut()}),$(".btn-up").click(function(){var t=700;return $("html, body").animate({scrollTop:0},t),!1}),$("input[placeholder]").placeholder(),$(".product_details-table tr:odd").addClass("bg-tr")}),function(){$(".product_slides-link").on("click",function(t){t.preventDefault();var o=$(this),i=o.closest(".product_slides-item"),e=o.closest(".product_slideshow"),n=e.find(".product_slideshow-display"),r=i.find("img").attr("src"),a=700;i.hasClass("active")&&i.addClass("active").siblings().removeClass("active"),n.find("img").fadeOut(a,function(){$(this).attr("src",r).fadeIn(a)})})}(),$.fn.tooltip=function(t){t={position:t.position||"top",content:t.content||"вы не ввели"};var o=' <div class="tooltip-box tooltip-'+t.position+' "> <div class="tooltip"> '+t.content+' </div> <div class="tooltip-pointer"></div> </div>',i=$(this),e=$("body"),n=i.outerWidth(!0),r=i.outerHeight(!0),a=i.offset().top,s=a+r,l=i.offset().left,d=l+n;i.after(o);var c=e.find(".tooltip-box").last(),u=c.outerWidth(!0),p=c.outerHeight(!0),f=n/2-u/2,v=r/2-p/2,h={};switch(t.position){case"top":h={left:l+f,top:a-p};break;case"right":h={left:d,top:a+v};break;case"bottom":h={left:l+f,top:s};break;case"left":h={left:l-u,top:a+v}}c.offset(h)};var validation=function(){var t=function(){console.log("иницилизация модуля валидации"),i()},o=function(t){console.log("Проверяем инпуты формы");var o=t.find("input, textarea").not('input[type="file"], input[type="hidden"]'),i=o.next(".tooltip-box");return valid=!0,i.remove(".tooltip-box"),$.each(o,function(t,o){var i=$(o),o=i.val(),e=i.attr("data-valid");0===o.length&&(i.addClass("input-error"),i.tooltip({content:e}),valid=!1)}),valid},i=function(){$("form").on("keydown",".input-error",n),$("form").on("reset",e)},e=function(){var t=$(this);t.find(".tooltip-box").remove(),t.find(".input-error").removeClass("input-error")},n=function(){var t=$(this).next(".tooltip-box");$(this).removeClass("input-error"),t.remove()};return{init:t,validateForm:o}}();validation.init();var searchForm=function(){var t=function(){console.log("иницилизация модуля форма поиска"),o()},o=function(){$("#form-search").on("submit",i)},i=function(t){console.log("Работа с формой поиска"),t.preventDefault();var o=$(this),i=o.attr("action"),n=e(o,i);n&&n.done(function(t){t.mes,t.status})},e=function(t,o){if(validation.validateForm(t))return!1;var i=t.serialize();return $.ajax({type:"POST",host:o,dataType:"JSON",data:i}).fail(function(o){console.log("Проблемы в коде php"),t.find(".error-result").text("На сервере произошла ошибка").show()})};return{init:t}}();searchForm.init();